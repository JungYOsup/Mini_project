<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="min.edu.room">

	<!--전체조회  -->
	<select id="selectAll" resultType="List">	
	SELECT SEQ,USER_ID,USER_PW,USER_NAME,EMAIL,USER_RECORD,SYSDATE,GRADE,ENABLED FROM ROOMUSER
	
	</select>
	
	<!--상세조회 -->
	<select id="selectdetail" parameterType="Map" resultType="roomdto">
	SELECT SEQ,USER_ID,USER_PW,USER_NAME,EMAIL,USER_RECORD,TO_CHAR(REGDATE,'YYYY-MM-DD') as SREGDATE,GRADE,ENABLED FROM ROOMUSER WHERE USER_ID=#{id}
	
	</select>
	
	<!--로그인-->
	<select id="login" parameterType="Map" resultType="roomdto">
	SELECT SEQ ,USER_ID ,USER_PW , USER_NAME , EMAIL , USER_RECORD , REGDATE , GRADE , ENABLED FROM ROOMUSER WHERE USER_ID=#{id} AND USER_PW=#{pw} AND ENABLED='Y'
	
	</select>
	
	<!--회원가입  -->
	<insert id="signp" parameterType="Map">
	
	INSERT INTO ROOMUSER (SEQ,USER_ID,USER_PW,USER_NAME,EMAIL,USER_RECORD,REGDATE,GRADE,ENABLED) VALUES(ROOMUSER_SEQ.NEXTVAL,#{id},#{pw},#{name},#{email},NULL,SYSDATE,USER,'Y')
	
	</insert>
	
	<!--결과값가져오기  -->
	
</mapper>

